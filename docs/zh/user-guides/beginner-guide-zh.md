# 🚀 小白专用说明文档

> **欢迎来到P社Mod本地化工厂！**  
> 如果你完全不懂编程，不知道什么是API、环境变量，没关系！这个文档就是为你准备的。

## 📖 目录

- [什么是这个项目？](#什么是这个项目)
- [我需要准备什么？](#我需要准备什么)
- [什么是API？](#什么是api)
- [如何获取API密钥？](#如何获取api密钥)
- [什么是环境变量？](#什么是环境变量)
- [详细安装步骤](#详细安装步骤)
- [启用Mod到游戏中](#启用mod到游戏中)
- [常见问题解答](#常见问题解答)

## 🎯 什么是这个项目？

**P社Mod本地化工厂**是一个自动化工具，可以帮助你：
- 将英文的游戏Mod自动翻译成中文
- 支持多种P社游戏（维多利亚3、群星、钢铁雄心4等）
- 使用人工智能进行翻译，质量比机器翻译好很多
- 一键生成完整的本地化Mod包

**简单来说**：你只需要提供英文Mod，工具就能帮你自动翻译成中文，然后你就可以在游戏里玩中文版Mod了！

## 🛠️ 我需要准备什么？

在开始之前，你需要准备：

1. **一台电脑**（Windows 10/11）
2. **网络连接**（用于下载和API调用）
3. **一个AI翻译服务的账号**（推荐使用Gemini，免费且简单）
4. **耐心**（第一次设置可能需要30分钟）

## 🤖 什么是API？

**API**听起来很复杂，但其实很简单：

**想象一下**：
- 你有一个很聪明的朋友在国外
- 你想和他聊天，但不会说外语
- 你需要一个翻译器来帮你沟通
- **API服务商可以提供这个翻译器**

**在我们的项目中**：
- 你有很多英文游戏文本需要翻译
- 网上有很多API服务商（比如Gemini）可以帮你翻译
- 但是这些API服务商需要你提供"通行证"才能工作
- 这个"通行证"就是API密钥

## 🔑 如何获取API密钥？

我们支持三种AI翻译服务，你可以根据自己的需求选择：

### 1. Google Gemini (推荐)
- **模型**: 使用 Gemini 2.5 Flash 模型
- **特点**: 翻译质量高，速度快
- **要求**: 需要Google账号
- **获取步骤**:
  1. 访问 [Google AI Studio](https://aistudio.google.com/)
  2. 登录Google账号
  3. 根据提示创建API密钥
  4. 复制生成的API密钥

### 2. OpenAI GPT
- **模型**: 使用 GPT-5 Mini 模型
- **特点**: 翻译质量极高，支持多种语言
- **要求**: 需要OpenAI账号
- **获取步骤**:
  1. 访问 [OpenAI平台](https://platform.openai.com/)
  2. 注册/登录账号
  3. 根据提示创建API密钥
  4. 复制生成的API密钥

### 3. 阿里云通义千问
- **模型**: 使用 Qwen Plus 模型
- **特点**: 国产AI服务，国内用户直连
- **要求**: 需要阿里云账号
- **建议**: 国内用户推荐选择此选项
- **获取步骤**:
  1. 访问 [阿里云DashScope](https://dashscope.console.aliyun.com/)
  2. 登录阿里云账号
  3. 根据提示创建API密钥
  4. 复制生成的API密钥

⚠️ **重要提醒**:
- 申请API密钥需要注册账户并绑定银行卡
- 使用API可能会产生费用，具体以服务商收费条款为准
- 请注意妥善保管API密钥，否则可能会被刷爆银行卡

## 🌍 什么是环境变量？

**环境变量**听起来很专业，但其实就是一个"设置"：

**简单理解**：
- 你的电脑有很多"设置"
- 比如语言设置、时区设置等
- 环境变量就是告诉程序"你的API密钥是什么"
- 这样程序就能自动使用你的密钥，不用每次都输入

**为什么需要环境变量？**
- 安全：避免密钥被意外泄露
- 方便：设置一次，以后就不用再设置了
- 专业：这是标准的做法

## 📥 详细安装步骤

### 第一步：下载项目文件

1. **下载项目**：
   - 点击项目页面的绿色"Code"按钮
   - 选择"Download ZIP"
   - 下载完成后，解压到一个你容易找到的文件夹
   - 比如：`C:\Users\你的用户名\Desktop\V3_Mod_Localization_Factory`

2. **检查文件**：
   - 解压后，你应该能看到一个名为`V3_Mod_Localization_Factory`的文件夹
   - 里面应该有`run.bat`、`README.md`等文件

### 第二步：安装Python

1. **下载Python**：
   - 访问 [Python官网](https://www.python.org/downloads/)
   - 点击"Download Python 3.x.x"（选择最新版本）
   - 下载完成后运行安装程序

2. **安装Python**：
   - **重要**：安装时勾选"Add Python to PATH"
   - 点击"Install Now"
   - 等待安装完成

3. **验证安装**：
   - 按`Win + R`，输入`cmd`，按回车
   - 在黑色窗口中输入：`python --version`
   - 如果显示版本号（如Python 3.11.0），说明安装成功

### 第三步：安装必要的库并配置API

**如果你技术能力有限，推荐使用自动安装脚本**：
1. 在项目文件夹中找到`首次安装配置.bat`文件
2. 双击运行此文件
3. 按照提示选择要使用的AI服务
4. 输入你的API密钥
5. 脚本会自动安装依赖库，并提示你输入API密钥，并配置环境变量

### 第四步：准备Mod文件

1. **下载Mod**：
   - 从Steam创意工坊下载你想要的Mod
   - 你可以打开群星/钢铁雄心4/维多利亚3的启动器，找到需要本地化的mod并点击“在文件夹种显示”选项来找到文件
   - 或者从其他来源获取Mod文件

2. **放置Mod文件**：
   - 将整个Mod文件夹复制到项目的`source_mod`文件夹中
   - **建议**: 将mod文件夹从创意工坊的一串数字重命名为mod名，以避免混淆。
   - **注意**: 确保整个mod文件夹结构完整，包括所有必要的文件和子文件夹。
    假设需要被本地化的mod名称是"ABCDEF"，项目结构应该如下：
    ```
    V3_Mod_Localization_Factory/
    ├── source_mod/                    # <-- 源Mod文件夹
    │   └── ABCDEF/                    # <-- 这是你要本地化的Mod文件夹
    │       ├── descriptor.mod         # <-- Mod描述文件（群星）
    │       ├── thumbnail.png          # <-- Mod封面图
    │       ├── localization/          # <-- 本地化文件夹（群星）
    │       │   └── english/           # <-- 英文本地化文件
    │       │       └── ABCDEF_l_english.yml
    │       ├── .metadata/             # <-- 元数据文件夹（维多利亚3）
    │       │   └── metadata.json     # <-- 元数据文件
    │       ├── common/                # <-- Mod内容文件夹（与本地化无关）
    │       └── ... (其他Mod文件)
    ├── scripts/                       # <-- 脚本文件夹
    ├── data/                          # <-- 数据文件夹
    └── README.md                      # <-- 说明文档
    ```
    
     **重要提示**:
     - 将整个mod文件夹（如"ABCDEF"）放入`source_mod`目录下
     - 根据游戏类型，mod可能包含不同的文件结构（如群星的`localization`、维多利亚3的`.metadata`等）
     - `common`等mod内容文件夹与本地化无关，你可以在后续的脚本运行过程中清理这些文件。

### 第五步：运行程序

1. **双击运行**：
   - 在项目文件夹中找到`run.bat`
   - 双击运行

2. **按照提示操作**：
   - 选择界面语言
   - 选择API供应商
   - 选择游戏类型
   - 选择要翻译的Mod
   - 选择是否清理多余文件
   - 选择源语言
   - 选择目标语言

3. **等待翻译完成**：
   - 程序会自动开始翻译
   - 这个过程可能需要几分钟到几十分钟，取决于Mod大小
   - 请耐心等待，不要关闭程序

## 🎮 启用Mod到游戏中

### 启用Mod（维多利亚3）
1. **找到输出文件**：
   - 在完成汉化后，你能在`my_translation`文件夹下找到输出
   - 文件夹的名称会根据你选择的本地化方式有所变化，例如 `zh-CN-ABCDEFG`

2. **复制到游戏目录**：
   - 将该文件夹复制并粘贴到 `文档/Paradox Interactive/Victoria 3/mod` 文件夹下
   - 如果找不到`mod`文件夹，则新建一个

3. **正确的文件夹结构**：
   ```
   Victoria 3/
   └── mod/
       └── zh-CN-ABCDEFG/            # 这是Mod的主文件夹
           ├── .metadata/            # 这是V3的元数据文件夹
           │   └── metadata.json     # 这是游戏内读取的元数据
           ├── thumbnail.png         # 这是Mod的封面图
           ├── 校对进度表.csv        # 校对进度追踪文件
           └── localization/         # 这是本地化文件所在的文件夹
               └── simp_chinese/
                   └── ... (所有.yml汉化文件都在这里)
   ```

4. **启用Mod**：
   - 重新启动维多利亚3并打开启动器
   - 在播放集中添加该Mod，并确保它位于原Mod的下方
   - 玩的开心！

### 启用Mod（群星&钢铁雄心）
1. **找到输出文件**：
   - 在完成汉化后，你能在`my_translation`文件夹下找到输出文件夹（例如 `zh-CN-ABCDEFG`）
   - 还会有一个同名的`.mod`文件（例如 `zh-CN-ABCDEFG.mod`）

2. **复制到游戏目录**：
   - 将**输出文件夹**和对应的 **`.mod` 文件**，一同复制并粘贴到游戏目录下
   - **群星**: `文档/Paradox Interactive/Stellaris/mod`
   - **钢铁雄心4**: `文档/Paradox Interactive/Hearts of Iron IV/mod`

3. **正确的文件夹结构**：
   ```
   游戏目录/
   └── mod/
       ├── zh-CN-ABCDEFG/            # 这是Mod的主文件夹
       │   ├── descriptor.mod        # 这是游戏内读取的元数据
       │   ├── thumbnail.png         # 这是Mod的封面图
       │   ├── 校对进度表.csv        # 校对进度追踪文件
       │   └── localisation/         # 这是本地化文件所在的文件夹
       │       └── simp_chinese/
       │           └── ... (所有.yml汉化文件都在这里)
       │
       └── zh-CN-ABCDEFG.mod         # 这是启动器读取的.mod文件
   ```

4. **启用Mod**：
   - 重新启动游戏并打开启动器
   - 在播放集中添加该Mod，并确保它位于原Mod的下方
   - 玩的开心！

## ❓ 常见问题解答

### Q1：程序提示"找不到Python"怎么办？
**A**：说明Python没有正确安装或没有添加到PATH。请重新安装Python，确保勾选"Add Python to PATH"。

### Q2：提示"pip不是内部或外部命令"怎么办？
**A**：说明pip没有正确安装。请重新安装Python，或者手动安装pip。

### Q3：API密钥无效怎么办？
**A**：请检查：
- 密钥是否完整复制（没有漏掉字符）
- 是否在正确的环境变量中设置
- 密钥是否过期或被禁用

### Q4：翻译过程中程序崩溃怎么办？
**A**：请检查：
- 网络连接是否稳定
- API密钥是否有效
- 是否有足够的磁盘空间

### Q5：生成的Mod无法在游戏中加载怎么办？
**A**：请检查：
- 移动的Mod文件或汉化文件是否完整
- 是否启用了Mod，播放集是否正确

### Q6：翻译质量不好怎么办？
**A**：可以尝试：
- 使用不同的API服务（如OpenAI）
- 手动编辑生成的翻译文件

## 🎉 恭喜！

如果你按照这个指南成功运行了程序，恭喜你！你已经成功：
- 安装了Python环境
- 配置了AI翻译服务
- 运行了自动化翻译工具
- 生成了中文版Mod

## 📞 需要帮助？

如果遇到问题，可以：
1. 在项目讨论区提问
2. 联系项目维护者

**记住**：每个人都是从零开始的，不要因为遇到问题就放弃。按照步骤一步一步来，你一定能成功！

祝你好运！🎮✨

# 常见问题 (FAQ)

欢迎来到 Project Remis！本FAQ旨在帮助初次使用本工具的“小白用户”快速上手，并解决在使用过程中可能遇到的常见问题。

## 1. 安装与启动

### Q1.1：如何下载和解压 Project Remis？
**A：** 请前往项目的发布页面（通常在 GitHub Releases 或其他下载平台）下载最新版本的 **便携版 (Portable)** 压缩包（例如 `Project_Remis_vX.X.X.zip`）。下载后，将其解压到您电脑上的任意位置即可。

### Q1.2：`setup.bat` 和 `run.bat` 有什么用？
**A：**
*   `setup.bat`：这是您**首次使用**时需要运行的脚本。它会自动安装项目所需的依赖项，并引导您设置 AI 翻译服务的 API Key为环境变量。只需运行一次。
*   `run.bat`：这是您**每次启动** Project Remis 进行汉化时需要运行的脚本。双击它即可启动汉化程序。

### Q1.3：为什么我需要 API Key？如何获取和设置？
**A：** Project Remis 本身不提供翻译能力，它是一个“AI翻译的搬运工”。您需要使用自己的 AI 服务（如 Gemini, OpenAI 等）的 API Key 来进行翻译。
*   **获取方式**：请前往您选择的 AI 服务提供商的官方网站注册账号并获取 API Key。
*   **设置方式**：首次运行 `setup.bat` 时，程序会提示您输入 API Key。输入后，它会被安全地设置为环境变量，无需您手动配置。
*   ⚠️ **重要提醒**:
- 申请API密钥需要注册账户并绑定银行卡
- 使用API可能会产生费用，具体以服务商收费条款为准
- 请注意**妥善保管**API密钥，否则可能会被刷爆银行卡

### Q1.4： 什么是环境变量？

**环境变量**听起来很专业，但其实就是一个"设置"：

**简单理解**：
- 你的电脑有很多"设置"
- 比如语言设置、时区设置等
- 环境变量就是告诉程序"你的API密钥是什么"
- 这样程序就能自动使用你的密钥，不用每次都输入

**为什么需要环境变量？**
- 安全：避免密钥被意外泄露
- 方便：设置一次，以后就不用再设置了
- 专业：这是标准的做法
   
**我如何设置环境变量？**
- `setup.bat`在运行中会提示你输入API密钥。在你输入API密钥后，脚本将自动将环境变量完成设置并存储到你的系统中。
- 因此大多数情况下你只需要执行一次，之后在同一台电脑上便能一直使用该API密钥进行翻译。
- 如果你的API密钥过期了、或者想要使用新的密钥进行翻译，则需要重新执行`setup.bat`进行设置。

## 2. Mod 放置与识别

### Q2.1：我想要汉化的 Mod 文件应该放在哪里？
**A：** 解压 Project Remis 后，您会看到一个名为 `source_mod` 的文件夹。请将您想要汉化的整个 Mod 文件夹，完整地复制并粘贴到 `source_mod` 里面。

### Q2.2：为什么建议重命名 Mod 文件夹？
**A：** 从创意工坊下载的 Mod 文件夹通常会有一个由一串数字组成的名字（例如 `3535929411`）。为了方便您识别和管理，强烈建议您将其重命名为 Mod 的实际名称（例如 `Extended Timeline`）。

### Q2.3：如果程序无法识别我放置的 Mod 怎么办？
**A：**
1.  请确保您将整个 Mod 文件夹完整地复制到了 `source_mod` 目录下，而不是只复制了其中的一部分文件。
2.  检查 Mod 文件夹的结构是否符合 P 社游戏的标准 Mod 结构。
3.  尝试重启 `run.bat`。

## 3. 翻译过程

### Q3.1：如何选择游戏、Mod、语言和 AI 服务？
**A：** 运行 `run.bat` 后，程序会以中文提示您一步步进行选择：
*   选择您要玩的游戏（例如 Victoria 3, Stellaris）。
*   选择您要汉化的 Mod。
*   选择 Mod 的原文语言和您想翻译成的目标语言。
*   选择您想使用的 AI 翻译服务。
*   根据提示输入 Mod 的主题或关键词，这有助于 AI 更好地理解上下文。

### Q3.2：什么是词典？它有什么用？
**A：** 词典就像一份“游戏术语小抄”。它包含了游戏中特有的专有名词和术语（例如“船队”、“思潮”）。在翻译时，AI 会严格按照词典中的翻译来处理这些术语，确保整个 Mod 的翻译专业性和一致性，避免机翻的生硬感。

### Q3.3：翻译完成后，汉化好的 Mod 在哪里？
**A：** 翻译成功后，汉化好的 Mod 包会自动出现在 Project Remis 根目录下的 `my_translation` 文件夹里。

## 4. 游戏内启用

### Q4.1：如何将汉化 Mod 复制到游戏目录？
**A：** 进入 `my_translation` 文件夹，找到刚刚生成的汉化 Mod 包（例如 `zh-CN-您的Mod名称`）。将这个文件夹完整地复制到您游戏对应的 `mod` 目录中。
*   **维多利亚3**: `C:\Users\您的用户名\Documents\Paradox Interactive\Victoria 3\mod`
*   **群星 (Stellaris)**: `C:\Users\您的用户名\Documents\Paradox Interactive\Stellaris\mod`
*   **钢铁雄心4 (HOI4)**: `C:\Users\您的用户名\Documents\Paradox Interactive\Hearts of Iron IV\mod`
*   **十字军之王3 (CK3)**: `C:\Users\您的用户名\Documents\Paradox Interactive\Crusader Kings III\mod`

### Q4.2：如何在游戏启动器中启用 Mod？
**A：** 启动游戏启动器，进入“播放集”或“Mod 管理”界面。您需要同时启用**原 Mod** 和 **汉化 Mod**。

### Q4.3：为什么汉化 Mod 的加载顺序很重要？
**A：** **这是一个关键步骤！** 在游戏启动器中，请务必确保**汉化 Mod** 在列表中的排序**低于**原 Mod。这样，汉化 Mod 才能正确覆盖原 Mod 的文本，使翻译生效。

### Q4.4：什么是假本地化（假中文）文件？我为什么要删除它们？
**A：** Paradox的游戏的本地化文件是根据不同的语种存放于`localization`下的子文件夹中的，例如的维多利亚3支持11种官方语言，则原游戏中存在十一种本地化子文件。分别存放于`french` `japanese` `simp_chinese` `egnlish`等子文件夹···
* 但大部分mod作者都没有能力为自己的mod制作多语种本地化补丁。因此它们会采取一种取巧的策略，它们会通过修改文件头的形式来让其他语言的客户端也能**读取其原始本地化文件**。
* 举例来说，当你在中文客户端中加载了一个英文mod，但看到了一些**英文的本地化内容**时，那么你看到的就是所谓的“假中文文件”。
* 因为如果不使用这种方法，你将会看到一连串极度抽象的带有下划线的key值，几乎**无法正常游戏**。通过加入“假中文”的方法，不使用本地化补丁的玩家也能通过脑内翻译，或程序外翻译器等手段**勉强**进行游戏。
* 但由于这些假本地化文件是位于原mod路径中的，因此它们的读取优先级往往**高于**汉化mod中的，如果我们想要使用由本项目制作的，真正的本地化文件，它们就**必须被删除**。
* 您需要手动删除这些文件。
  - 请前往`SteamLibrary\steamapps\workshop\content\529340\3535929411（将这串数字替换为你正在汉化的MOD的创意工坊ID）\localization`下，**删除MOD原始语言文件夹之外的所有文件夹**。
  - 例如，如原始mod为英文，则你需要删除localization下除了english文件夹之外的所有文件夹。
  - 你也可以选择将该本地化补丁的内容**覆盖**到原MOD文件夹中。这样能减少恼人的校验文件过程，steam也不会再尝试重新从工坊下载缺失的假本地化文件。

## 5. 常见问题与故障排除

### Q5.1：程序闪退或报错怎么办？
**A：**
*   **API Key 问题**：请检查您的 API Key 是否正确、有效，以及您的 AI 账户余额是否充足。
*   **Mod 文件不完整**：请确保您复制了整个 Mod 文件夹到 `source_mod`，而不是只有其中的 `localization` 文件夹。
*   **查看日志**：程序会在 `logs/` 目录下生成日志文件，其中可能包含详细的错误信息，可以帮助您定位问题。

### Q5.2：翻译后在游戏中不生效怎么办？
**A：**
1.  **检查加载顺序**：再次确认在游戏启动器中，汉化 Mod 的加载顺序是否在原 Mod **之下**。
2.  **删除“假本地化文件”**：某些 Mod 可能会自带一些空的或不完整的本地化文件，这会阻止您的汉化 Mod 生效。
    *   请前往 `SteamLibrary\steamapps\workshop\content\[游戏ID]\[Mod创意工坊ID]\localization` 目录下。
    *   **删除除了 Mod 原始语言文件夹之外的所有文件夹**（例如，如果 Mod 原始语言是英文，则删除 `localization` 下除了 `english` 文件夹之外的所有文件夹）。
    *   或者，您可以选择将汉化 Mod 的内容**直接覆盖**到原 Mod 文件夹中，这样可以避免校验问题。
3.  **检查 Mod 是否有其他冲突**：尝试只启用原 Mod 和汉化 Mod，排除其他 Mod 的干扰。

### Q5.3：翻译质量不佳怎么办？
**A：**
1.  **优化词典**：您可以尝试在 `data/glossary` 文件夹中为对应游戏添加或修改词典文件，这能显著提升术语的准确性。
2.  **提供 Mod 主题**：在开始翻译时，根据提示输入 Mod 的主题或关键词，也能帮助 AI 更好地理解上下文，提供更贴切的翻译。

### Q5.4：API Key 提示无效或配额不足怎么办？
**A：**
*   **无效/错误**：请仔细检查您输入的 API Key 是否正确，确保没有多余的空格或字符。
*   **配额不足**：这意味着您可能已经用完了 AI 服务的免费额度或付费额度。您可以尝试等待配额刷新，或升级您的 AI 服务套餐。
*   **网络问题**：确保您的网络连接稳定，并且可以正常访问 AI 服务的服务器。

### Q5.5：如果我还有其他问题，或者希望添加新功能怎么办？
**A：** 我们非常欢迎您的反馈和建议！
*   **提出问题或报告 Bug**：如果您在使用过程中遇到任何问题、程序 Bug，或者对文档有疑问，请随时在项目的 GitHub 仓库中提交一个 Issue。
*   **建议新功能**：如果您有任何希望添加的新功能或改进建议，也请在 GitHub Issue 中提出。
在提交 Issue 时，请尽量提供详细的信息，例如：问题描述、复现步骤、错误截图、您的系统环境等，这将有助于我们更快地理解和解决问题。

---

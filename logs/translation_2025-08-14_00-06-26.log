2025-08-14 00:06:26,173 - INFO - Logger initialized and ready.
2025-08-14 00:06:38,081 - INFO - Language loaded: en_US
2025-08-14 00:06:38,081 - INFO - --- New Session Started ---
2025-08-14 00:06:38,081 - INFO - Please select an API provider:
2025-08-14 00:06:38,081 - INFO -   [1] Gemini
2025-08-14 00:06:38,081 - INFO -   [2] Openai
2025-08-14 00:06:38,081 - INFO -   [3] Qwen - (Recommended for users in Mainland China)
2025-08-14 00:06:40,627 - INFO - 
Please select a game:
2025-08-14 00:06:40,627 - INFO -   [1] Victoria 3 (维多利亚3)
2025-08-14 00:06:40,627 - INFO -   [2] Stellaris (群星)
2025-08-14 00:06:40,628 - INFO -   [3] Europa Universalis IV (欧陆风云4)
2025-08-14 00:06:40,628 - INFO -   [4] Hearts of Iron IV (钢铁雄心4)
2025-08-14 00:06:40,628 - INFO -   [5] Crusader Kings III (十字军之王3)
2025-08-14 00:06:41,830 - INFO - 
--- Scanning source folder [J:\V3_Mod_Localization_Factory\source_mod] ---
2025-08-14 00:06:41,831 - INFO - Please select the Mod to localize:
2025-08-14 00:06:41,831 - INFO -   [1] Australia & New Zealand Flavor Pack
2025-08-14 00:06:41,831 - INFO -   [2] Forts & Engineers
2025-08-14 00:06:41,831 - INFO -   [3] GORA UI
2025-08-14 00:06:41,831 - INFO -   [4] Hydra's More Agenda's
2025-08-14 00:06:41,831 - INFO -   [5] MODJAM2025
2025-08-14 00:06:41,831 - INFO -   [6] MODJAM2025 - 副本
2025-08-14 00:06:41,831 - INFO -   [7] Offer Convoy Contribution
2025-08-14 00:06:41,831 - INFO -   [8] Project Utopia - Extended Timeline - Technical Preview
2025-08-14 00:06:41,831 - INFO -   [9] Tech & Res
2025-08-14 00:06:41,831 - INFO -   [10] TEST-ANZAC
2025-08-14 00:06:41,831 - INFO -   [11] UKrework
2025-08-14 00:06:43,274 - INFO - 
You have selected: Offer Convoy Contribution
2025-08-14 00:06:43,275 - INFO - 
--- Getting Mod thematic context ---
2025-08-14 00:06:43,275 - INFO - Identified Mod Name: 'Offer Convoy Contribution'
2025-08-14 00:06:44,972 - INFO - Final thematic context used: 'Offer Convoy Contribution'
2025-08-14 00:06:44,972 - INFO - 
--- Starting cleanup of source Mod folder: Offer Convoy Contribution ---
2025-08-14 00:06:46,531 - INFO - Operation cancelled.
2025-08-14 00:06:46,531 - INFO - 
Please select the source language:
2025-08-14 00:06:46,531 - INFO -   [1] English
2025-08-14 00:06:46,531 - INFO -   [2] 简体中文
2025-08-14 00:06:46,531 - INFO -   [3] Français
2025-08-14 00:06:46,531 - INFO -   [4] Deutsch
2025-08-14 00:06:46,531 - INFO -   [5] Español
2025-08-14 00:06:46,531 - INFO -   [6] 日本語
2025-08-14 00:06:46,531 - INFO -   [7] 한국어
2025-08-14 00:06:46,531 - INFO -   [8] Polski
2025-08-14 00:06:46,531 - INFO -   [9] Português do Brasil
2025-08-14 00:06:46,531 - INFO -   [10] Русский
2025-08-14 00:06:46,531 - INFO -   [11] Türkçe
2025-08-14 00:06:48,603 - INFO - 
Please select the target language(s):
2025-08-14 00:06:48,603 - INFO -   [0] Translate to all other 10 languages
2025-08-14 00:06:48,603 - INFO -   [1] English (Source)
2025-08-14 00:06:48,603 - INFO -   [2] 简体中文
2025-08-14 00:06:48,604 - INFO -   [3] Français
2025-08-14 00:06:48,604 - INFO -   [4] Deutsch
2025-08-14 00:06:48,604 - INFO -   [5] Español
2025-08-14 00:06:48,604 - INFO -   [6] 日本語
2025-08-14 00:06:48,604 - INFO -   [7] 한국어
2025-08-14 00:06:48,604 - INFO -   [8] Polski
2025-08-14 00:06:48,604 - INFO -   [9] Português do Brasil
2025-08-14 00:06:48,604 - INFO -   [10] Русский
2025-08-14 00:06:48,604 - INFO -   [11] Türkçe
2025-08-14 00:06:48,604 - INFO -   [c] Custom / Disguise Other Language...
2025-08-14 00:06:49,626 - INFO - 
--- Starting 'Initial Translation' workflow for: Offer Convoy Contribution ---
2025-08-14 00:06:50,088 - INFO - Gemini client initialized successfully, using model: gemini-2.5-flash
2025-08-14 00:06:50,088 - INFO - 
--- Processing metadata.json ---
2025-08-14 00:06:50,089 - ERROR - 程序运行时发生未处理的异常
Traceback (most recent call last):
  File "J:\V3_Mod_Localization_Factory\scripts\main.py", line 202, in <module>
    main_menu()
  File "J:\V3_Mod_Localization_Factory\scripts\main.py", line 190, in main_menu
    initial_translate.run(selected_mod, source_lang, target_languages, selected_game_profile, mod_context, selected_provider)
  File "J:\V3_Mod_Localization_Factory\scripts\workflows\initial_translate.py", line 40, in run
    asset_handler.process_metadata(
  File "J:\V3_Mod_Localization_Factory\scripts\core\asset_handler.py", line 244, in process_metadata
    _process_victoria3_metadata(mod_name, client, source_lang, target_lang,
  File "J:\V3_Mod_Localization_Factory\scripts\core\asset_handler.py", line 30, in _process_victoria3_metadata
    translated_name = translate_single_text(
                      ^^^^^^^^^^^^^^^^^^^^^^
  File "J:\V3_Mod_Localization_Factory\scripts\core\api_handler.py", line 50, in translate_single_text
    return handler.translate_single_text(client, text, task_description, mod_name, source_lang, target_lang, mod_context, game_profile)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: translate_single_text() missing 1 required positional argument: 'game_profile'

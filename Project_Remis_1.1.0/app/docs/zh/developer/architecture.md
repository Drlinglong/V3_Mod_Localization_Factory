# ğŸ—ï¸ é¡¹ç›®æ¶æ„

> ç³»ç»Ÿè®¾è®¡è¯´æ˜å’ŒæŠ€æœ¯æ¶æ„è¯¦è§£

## ğŸ¯ è®¾è®¡åŸåˆ™

### æ¨¡å—åŒ–è®¾è®¡
- **é«˜å†…èš**: æ¯ä¸ªæ¨¡å—èŒè´£å•ä¸€ï¼ŒåŠŸèƒ½å®Œæ•´
- **ä½è€¦åˆ**: æ¨¡å—é—´ä¾èµ–å…³ç³»æ¸…æ™°ï¼Œæ˜“äºç»´æŠ¤
- **å¯æ‰©å±•**: æ”¯æŒæ–°åŠŸèƒ½æ¨¡å—çš„å¿«é€Ÿé›†æˆ

### åˆ†å±‚æ¶æ„
- **è¡¨ç°å±‚**: ç”¨æˆ·ç•Œé¢å’Œäº¤äº’é€»è¾‘
- **ä¸šåŠ¡å±‚**: æ ¸å¿ƒä¸šåŠ¡é€»è¾‘å’Œå·¥ä½œæµ
- **æ•°æ®å±‚**: æ•°æ®å­˜å‚¨å’Œè®¿é—®æ¥å£
- **åŸºç¡€è®¾æ–½å±‚**: é€šç”¨å·¥å…·å’Œç¬¬ä¸‰æ–¹æœåŠ¡

## ğŸ›ï¸ ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ·ç•Œé¢å±‚ (UI Layer)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  main.py                    # ä¸»ç¨‹åºå…¥å£                     â”‚
â”‚  â””â”€â”€ èœå•ç³»ç»Ÿã€ç”¨æˆ·äº¤äº’ã€æµç¨‹æ§åˆ¶                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    å·¥ä½œæµå±‚ (Workflow Layer)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  workflows/                                                 â”‚
â”‚  â”œâ”€â”€ initial_translate.py   # é¦–æ¬¡ç¿»è¯‘å·¥ä½œæµ                 â”‚
â”‚  â”œâ”€â”€ generate_workshop_desc.py # å·¥åŠæè¿°ç”Ÿæˆ                â”‚
â”‚  â””â”€â”€ ...                    # å…¶ä»–å·¥ä½œæµ                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    æ ¸å¿ƒå¼•æ“å±‚ (Core Engine Layer)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  core/                                                      â”‚
â”‚  â”œâ”€â”€ api_handler.py         # APIç»Ÿä¸€æ¥å£                    â”‚
â”‚  â”œâ”€â”€ glossary_manager.py    # è¯å…¸ç®¡ç†ç³»ç»Ÿ                   â”‚
â”‚  â”œâ”€â”€ file_parser.py         # æ–‡ä»¶è§£æå™¨                     â”‚
â”‚  â”œâ”€â”€ file_builder.py        # æ–‡ä»¶æ„å»ºå™¨                     â”‚
â”‚  â”œâ”€â”€ directory_handler.py   # ç›®å½•å¤„ç†å™¨                     â”‚
â”‚  â”œâ”€â”€ asset_handler.py       # èµ„æºå¤„ç†å™¨                     â”‚
â”‚  â”œâ”€â”€ proofreading_tracker.py # æ ¡å¯¹è¿½è¸ªå™¨                    â”‚
â”‚  â”œâ”€â”€ parallel_processor.py  # å¹¶è¡Œå¤„ç†å™¨                     â”‚
â”‚  â””â”€â”€ ...                    # å…¶ä»–æ ¸å¿ƒæ¨¡å—                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    å·¥å…·å±‚ (Utility Layer)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  utils/                                                     â”‚
â”‚  â”œâ”€â”€ i18n.py               # å›½é™…åŒ–æ”¯æŒ                     â”‚
â”‚  â”œâ”€â”€ logger.py              # æ—¥å¿—ç³»ç»Ÿ                      â”‚
â”‚  â”œâ”€â”€ text_clean.py          # æ–‡æœ¬æ¸…ç†å·¥å…·                   â”‚
â”‚  â””â”€â”€ ...                    # å…¶ä»–å·¥å…·æ¨¡å—                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    æ•°æ®å±‚ (Data Layer)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  data/                                                      â”‚
â”‚  â”œâ”€â”€ lang/                  # è¯­è¨€æ–‡ä»¶                      â”‚
â”‚  â”‚   â”œâ”€â”€ en_US.json        # è‹±æ–‡ç•Œé¢                      â”‚
â”‚  â”‚   â””â”€â”€ zh_CN.json        # ä¸­æ–‡ç•Œé¢                      â”‚
â”‚  â”œâ”€â”€ glossary/              # è¯å…¸æ•°æ®                      â”‚
â”‚  â”‚   â”œâ”€â”€ victoria3/        # V3ä¸“ç”¨è¯å…¸                    â”‚
â”‚  â”‚   â”œâ”€â”€ stellaris/        # ç¾¤æ˜Ÿä¸“ç”¨è¯å…¸                   â”‚
â”‚  â”‚   â””â”€â”€ ...               # å…¶ä»–æ¸¸æˆè¯å…¸                   â”‚
â”‚  â””â”€â”€ config/                # é…ç½®æ–‡ä»¶                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    é…ç½®å±‚ (Configuration Layer)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  config.py                  # å…¨å±€é…ç½®                      â”‚
â”‚  â”œâ”€â”€ æ¸¸æˆæ¡£æ¡ˆé…ç½®                                            â”‚
â”‚  â”œâ”€â”€ APIé…ç½®                                                â”‚
â”‚  â”œâ”€â”€ ç³»ç»Ÿå‚æ•°                                               â”‚
â”‚  â””â”€â”€ å¸¸é‡å®šä¹‰                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ æ ¸å¿ƒæ¨¡å—è¯¦è§£

### 1. ä¸»ç¨‹åºå…¥å£ (`main.py`)
**èŒè´£**: ç¨‹åºå¯åŠ¨ã€ç”¨æˆ·äº¤äº’ã€æµç¨‹åè°ƒ
**ç‰¹ç‚¹**: 
- ç»Ÿä¸€çš„å…¥å£ç‚¹
- æ¨¡å—åŒ–çš„èœå•ç³»ç»Ÿ
- å¼‚å¸¸å¤„ç†å’Œé”™è¯¯æ¢å¤

### 2. å·¥ä½œæµå¼•æ“ (`workflows/`)
**èŒè´£**: ä¸šåŠ¡æµç¨‹ç¼–æ’ã€ä»»åŠ¡è°ƒåº¦
**ç‰¹ç‚¹**:
- å¯é…ç½®çš„å·¥ä½œæµå®šä¹‰
- æ”¯æŒæ¡ä»¶åˆ†æ”¯å’Œå¾ªç¯
- çŠ¶æ€ç®¡ç†å’Œè¿›åº¦è·Ÿè¸ª

### 3. APIå¤„ç†å™¨ (`core/api_handler.py`)
**èŒè´£**: ç»Ÿä¸€ç®¡ç†å„ç§AIç¿»è¯‘API
**ç‰¹ç‚¹**:
- æŠ½è±¡åŒ–APIæ¥å£
- æ”¯æŒå¤šç§æœåŠ¡å•†
- é”™è¯¯é‡è¯•å’Œé™çº§æœºåˆ¶

### 4. è¯å…¸ç®¡ç†å™¨ (`core/glossary_manager.py`)
**èŒè´£**: æ¸¸æˆæœ¯è¯­è¯å…¸çš„åŠ è½½ã€ç®¡ç†å’Œåº”ç”¨
**ç‰¹ç‚¹**:
- æ”¯æŒå¤šæ¸¸æˆè¯å…¸
- æ¨¡ç³ŠåŒ¹é…ç®—æ³•
- åŠ¨æ€è¯å…¸æ›´æ–°

### 5. æ–‡ä»¶è§£æå™¨ (`core/file_parser.py`)
**èŒè´£**: è§£æPç¤¾ç‰¹æœ‰çš„æ–‡ä»¶æ ¼å¼
**ç‰¹ç‚¹**:
- æ”¯æŒå¤šç§.ymlæ ¼å¼
- å®¹é”™æ€§è§£æ
- ä¿æŒåŸå§‹æ ¼å¼

### 6. å¹¶è¡Œå¤„ç†å™¨ (`core/parallel_processor.py`)
**èŒè´£**: å¤šæ–‡ä»¶ã€å¤šæ‰¹æ¬¡çš„å¹¶è¡Œå¤„ç†
**ç‰¹ç‚¹**:
- æ™ºèƒ½çº¿ç¨‹æ± ç®¡ç†
- è´Ÿè½½å‡è¡¡
- èµ„æºä¼˜åŒ–

## ğŸ”„ æ•°æ®æµ

### ç¿»è¯‘æµç¨‹
```
ç”¨æˆ·è¾“å…¥ â†’ æ–‡ä»¶è§£æ â†’ è¯å…¸æ³¨å…¥ â†’ APIç¿»è¯‘ â†’ ç»“æœéªŒè¯ â†’ æ–‡ä»¶é‡å»º â†’ è¾“å‡º
```

### æ•°æ®æµå‘
```
æºæ–‡ä»¶ â†’ è§£æå™¨ â†’ æ–‡æœ¬æå– â†’ è¯å…¸åŒ¹é… â†’ AIç¿»è¯‘ â†’ è´¨é‡æ£€æŸ¥ â†’ æ–‡ä»¶ç”Ÿæˆ
```

## ğŸ® æ¸¸æˆæ¡£æ¡ˆç³»ç»Ÿ

### é…ç½®ç»“æ„
```python
GAME_PROFILES = {
    "victoria3": {
        "name": "Victoria 3",
        "localization_dir": "localization",
        "metadata_file": ".metadata/metadata.json",
        "supported_languages": [...],
        "file_patterns": [...]
    }
}
```

### æ‰©å±•æ€§
- æ–°æ¸¸æˆåªéœ€æ·»åŠ é…ç½®æ–‡ä»¶
- æ”¯æŒè‡ªå®šä¹‰æ–‡ä»¶ç»“æ„
- çµæ´»çš„è¯­è¨€é…ç½®

## ğŸ”Œ æ’ä»¶ç³»ç»Ÿ

### Hookæœºåˆ¶
- æ–‡ä»¶è§£æé’©å­
- ç¿»è¯‘åå¤„ç†é’©å­
- è‡ªå®šä¹‰è¾“å‡ºæ ¼å¼é’©å­

### æ‰©å±•ç‚¹
- æ–°çš„AIæœåŠ¡å•†
- æ–°çš„æ–‡ä»¶æ ¼å¼
- æ–°çš„è¾“å‡ºæ ¼å¼

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### å¹¶è¡Œå¤„ç†
- å¤šæ–‡ä»¶å¹¶è¡Œ
- å¤šæ‰¹æ¬¡å¹¶è¡Œ
- æ™ºèƒ½çº¿ç¨‹æ± 

### å†…å­˜ç®¡ç†
- æµå¼å¤„ç†å¤§æ–‡ä»¶
- åŠæ—¶é‡Šæ”¾èµ„æº
- ç¼“å­˜ä¼˜åŒ–

### ç½‘ç»œä¼˜åŒ–
- APIè°ƒç”¨æ‰¹å¤„ç†
- é‡è¯•æœºåˆ¶
- è¶…æ—¶æ§åˆ¶

## ğŸ”’ å®‰å…¨è€ƒè™‘

### æ•°æ®å®‰å…¨
- APIå¯†é’¥ç¯å¢ƒå˜é‡
- æ•æ„Ÿä¿¡æ¯ä¸è®°å½•æ—¥å¿—
- ä¸´æ—¶æ–‡ä»¶åŠæ—¶æ¸…ç†

### é”™è¯¯å¤„ç†
- ä¼˜é›…é™çº§
- è¯¦ç»†é”™è¯¯æ—¥å¿—
- ç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤º

## ğŸš€ æœªæ¥æ‰©å±•

### è®¡åˆ’ä¸­çš„åŠŸèƒ½
- Webç•Œé¢
- æ•°æ®åº“æ”¯æŒ
- äº‘ç«¯éƒ¨ç½²
- ç¤¾åŒºè¯å…¸å…±äº«

### æŠ€æœ¯å‡çº§
- å¼‚æ­¥ç¼–ç¨‹
- å¾®æœåŠ¡æ¶æ„
- å®¹å™¨åŒ–éƒ¨ç½²

---

> ğŸ“š **ç›¸å…³æ–‡æ¡£**: 
> - [å¹¶è¡Œå¤„ç†æŠ€æœ¯](docs/developer/parallel-processing.md)
> - [å®ç°è®°å½•](docs/developer/implementation-notes.md)
> - [è¯å…¸ç³»ç»Ÿ](docs/glossary/overview.md)
